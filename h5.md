# h5 GNU debugger

## Pöytäkoneen Ympäristö
- Windows 11
- CPU: AMD Ryzen 9 5700X 12-Core Processor
- RAM: 32GB
- GPU: Nvidia Geforce RTX 3070 8GB
- Disc size 2TB

## Virtuaalikoneen ympäristö

<img width="551" height="655" alt="image" src="https://github.com/user-attachments/assets/0947c51d-fa57-457f-ae23-86b63941ef0e" />

## h5 GNU debugger

- Tässä tehtävässä opettelen käyttämään GNU debuggeria ja teen lab 0-2 GNU debugger harjoitustehtävistä.
- Aloitan tekemällä uuden hakemiston johon lataan tehtäväkansion, sen jälkeen unzippaan sen.
<img width="806" height="141" alt="image" src="https://github.com/user-attachments/assets/b6e0b08f-f976-4cd9-a7ae-f8b39085d153" />
<img width="782" height="197" alt="image" src="https://github.com/user-attachments/assets/edc3e919-aeaa-4c75-8cee-d7bd319bb7b7" />

- Tämän jälkeen lataan GNU debuggerin.
<img width="486" height="22" alt="image" src="https://github.com/user-attachments/assets/d87b33e6-026d-4f0f-a539-b1eb48744b54" />
<img width="781" height="115" alt="image" src="https://github.com/user-attachments/assets/be57822a-b227-4853-bac7-19c2b0c6b949" />

## Lab0

- Aloitan unzippaamalla lab0
<img width="574" height="118" alt="image" src="https://github.com/user-attachments/assets/0731744d-eb3a-4f18-818f-42e4fb7c4d3c" />
<img width="648" height="152" alt="image" src="https://github.com/user-attachments/assets/f58c07f7-48a1-406c-902a-1faba483b937" />

- Käynnistän sitten gdb ohjelman ja alan käymään läpi komentoja.
<img width="777" height="321" alt="image" src="https://github.com/user-attachments/assets/bc011a12-0173-4d57-9d1f-99d7425886f9" />

- Kirjoitan ensimmäiseksi "l" komennon joka listaa koko ohjelman.
<img width="956" height="286" alt="image" src="https://github.com/user-attachments/assets/56165bc4-db4a-446b-b8ba-e710862913b6" />

- Tämän jälkeen yritin suorittaa ohjelmaa debuggerissa pari kertaa mutta mitään poikkeavaa ei tapahtunut.
<img width="815" height="344" alt="image" src="https://github.com/user-attachments/assets/e431fc39-6b54-46b5-8aec-aee3b987c1cb" />

- Lähden debuggerista toistaiseksi ja yritän ensin kääntää .c tiedoston ajettavaan muotoon josta saan hyödyllistä tietoa. -g antaa debugger tietoa -Wall tunnistaa virheet ja -Werror muuttaa varoitukset virheiksi.
<img width="924" height="40" alt="image" src="https://github.com/user-attachments/assets/d56669c8-8a62-4d5a-8bb0-c6065fbbb843" />

- Aloitan uudestaan avaamalla debuggerin ja suoritan komennon l joka tulostaa lähdekoodin. Näyttää siltä ett riviltä 4 eteenpäin tulee virheilmoituksia.
<img width="807" height="324" alt="image" src="https://github.com/user-attachments/assets/ed75f0dd-afa7-472b-9eaf-21f68f2abb50" />
<img width="971" height="212" alt="image" src="https://github.com/user-attachments/assets/ead1550b-3d84-4993-aa92-84626139bddd" />

- Ongelmana näyttää olevan se että lähdekoodissa on ongelmia joten menen korjaamaan sen ja tulen sen jälkeen takaisin debuggeriin katsomaan miltä näyttää.
<img width="163" height="22" alt="image" src="https://github.com/user-attachments/assets/83106dfd-11df-4f27-bf87-8af5a3b2dd61" />

- Korjasin tiedoston sillein että poistin = tuosta kohtaa, mitä näytän kuvassa. Se tekee että koodi ei aiheuta ylivuotoa.
<img width="829" height="265" alt="image" src="https://github.com/user-attachments/assets/7bfe295a-3d41-4d50-84d5-d97c1e95b7f4" />

- Ja nyt kun testaan GNU debuggeria niin ohjelma toimii ilman virheitä.
<img width="861" height="533" alt="image" src="https://github.com/user-attachments/assets/48679f40-e17e-47ba-a458-6c3c5faa6355" />

## Lab1

- Unzippaan Lab1
<img width="544" height="117" alt="image" src="https://github.com/user-attachments/assets/3f6e0fe0-6888-4d7e-83eb-a557f7032702" />

- Aikalailla samat stepit kun viime tehtävässä, lisään vaan debugger tietoa ajettavaan .c tiedostoon.
<img width="941" height="154" alt="image" src="https://github.com/user-attachments/assets/b4904fee-8991-49ad-910f-2dcec7f1179f" />
<img width="1132" height="193" alt="image" src="https://github.com/user-attachments/assets/c700c9f9-43ee-4968-9b78-95c1e4ece4d8" />

- Mielenkiintoista, nyt tuli ihmeellinen errori kun yrittää suorittaa tuota ensimmäistä komentoa.
- Yritän mennä debuggeriin avaamalla suoritettavana tiedoston.
<img width="788" height="324" alt="image" src="https://github.com/user-attachments/assets/fe88c0bc-eda8-4e3d-92b0-8f43ddcd2e7f" />
<img width="544" height="214" alt="image" src="https://github.com/user-attachments/assets/6217c454-3619-4167-a49b-50b816b4e0e9" />

- Tässä näyttää jokin mättäävään, 8 rivistä eteenpäin.
<img width="887" height="173" alt="image" src="https://github.com/user-attachments/assets/145d4c95-289f-43ba-9c38-9d0d91a88f6c" />

- Jos yritän runaa tiedostoa debuggerissa niin se sanoo että jotain on pielessä jo rivillä 7.
- Avaan tiedoston editorissa ja korjaan virheet.
- Funktio yrittää callata NULLia mutta NULLia ei ole määritelty aiemmin koodissa. Lisään if lauseen joka tarkistaa NULL ja teen koodista paljon selkeämmän lukea.
<img width="606" height="532" alt="image" src="https://github.com/user-attachments/assets/9e3d4131-c361-436f-9ba6-4e4d2e4a2c9b" />

- Ja sitten tarkistan debuggerilla.
<img width="843" height="497" alt="image" src="https://github.com/user-attachments/assets/e2766319-42e8-4dad-9c83-f0c01f6bf2fc" />

- Warning source file is more recent than executable. Menin executableen ja tallensin sen mutta se ei saanut tätä ongelmaa menemään pois. Haluaisin tietää miten muut ovat ratkonneet tämän.
 
## Lab2

- Unzippaan Lab2
<img width="608" height="189" alt="image" src="https://github.com/user-attachments/assets/f3853fa8-08d6-45aa-b970-8236a6f27e6c" />

- Katsos, vanhoja tuttuja. Passtr tiedostot.
<img width="677" height="322" alt="image" src="https://github.com/user-attachments/assets/1e9439b5-0389-489c-b7d3-f9906a43a492" />

- Teen saman jutun kun lab0 ja lab1 elikkä muutan .c tiedoston lisäämään debugger tietoja.
<img width="876" height="43" alt="image" src="https://github.com/user-attachments/assets/9adafc8b-55ce-44c6-87f7-8d6616c15080" />

- Näyttää lupaavalta koska komento meni läpi ilman erroreita. Laitan gdb:n pyörimään.
<img width="910" height="325" alt="image" src="https://github.com/user-attachments/assets/682f329f-9949-4b53-82b1-0964526bf9b4" />
<img width="738" height="212" alt="image" src="https://github.com/user-attachments/assets/4ab0d5ae-b339-4088-a91b-b5d49d7580f5" />

- Ongelma jo heti ensimmäisestä rivistä. Yritän suorittaa debuggerissa.
<img width="778" height="153" alt="image" src="https://github.com/user-attachments/assets/4bf012eb-9295-479a-b968-1ac197431d8b" />

- Muistin salasanan edellisistä tehtävistä mutta sovellus suoriutui ongelmitta ja antoi oikean vastauksen. Virheilmoitukset eivät siis valittanut koodin funktionaalisuudesta.

## Pohdinta

- GNU debugger on kiva ohjelma löytääkseen virheitä koodissa ja sitä on helppo käyttää.
- Komennot kävi järkeen kun niitä oli lukenut ja virheilmoituksista pystyi jotenkin päättää että mikä ongelma oli kyseessä.

## Lähteet

- Terokarvinen.com. Application Hacking. https://terokarvinen.com/application-hacking/
- GNU debugger. Sourceware.com. https://www.sourceware.org/gdb/

